# Johan Cwiklinski <johan@x-tnd.be>, 2019. #zanata
msgid ""
msgstr ""
"Project-Id-Version: Galette 0.9.3\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2019-10-20 21:12+0200\n"
"PO-Revision-Date: 2019-10-20 08:58+0000\n"
"Last-Translator: Johan Cwiklinski <johan@x-tnd.be>\n"
"Language-Team: French\n"
"Language: fr\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=(n > 1)\n"
"X-Generator: Zanata 4.6.2\n"

#: ../development/plugins-0.8-0.9.rst:7
msgid "Plugins migration 0.8 => 0.9"
msgstr "Migration des plugins 0.8 => 0.9"

#: ../development/plugins-0.8-0.9.rst:9
msgid ""
"Plugin system in Galette 0.9 is incompatible with previous versions. This "
"does not means that you must rewrite your plugin completely, but you will "
"have to do some adaptations."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:13
msgid "Generalities"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:15
msgid ""
"Of course, you have to refer to the :ref:`plugins development guide "
"<devplugins>` for all details."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:17
msgid ""
"Several Galette core objects has been modified to remove some globals. This "
"is now mandatory to send them those informations, like:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:27
msgid ""
"We've based our examples on the :doc:`ObjectsLend plugin "
"<../plugins/objectslend>`, you can refer to the `related commit (`326b52f4`)"
" <https://git.tuxfamily.org/galette/plugin-"
"objectslend.git/commit/?h=develop&id=326b52f486c6dccd5896d9db13e3a074d3896b19>`_."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:30
msgid "_define.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:32
msgid "Two new parameters has been added:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:34
msgid ""
"a name, used for the routing and translation domains, a single string to add"
" beetween Galette compatibility version and plugin date,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:35
msgid ""
"limited access URLs list (when ``$authenticate`` middleware is used) "
"configuration, in an array at the end of the existing configuration."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:37
msgid "A ``define.php`` file for Galette 0.8:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:52
msgid "After being updated to Galette 0.9, the file will look like:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:71
msgid "Routes ACLs are handled while plugin development."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:74
msgid "_config.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:76
msgid ""
"It was advised to create a variable to prefix display template, this is no "
"longer needed."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:79
msgid "_routes.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:81
msgid ""
"This file is now the core of your plugin. All old PHP files that was "
"directly called in URL in older versions will now be dispatched in several "
"routes (one per PHP file, or not)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:83
msgid ""
"As an example, take the ``preferences.php`` page of our plugin. The source "
"code for the 0.8 version was:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:130
msgid ""
"This page was providing both display and storage of the preferences of the "
"plugin. We will replace this behavior with two distinct routes: one with "
"HTTP `GET` method that will handle display and another one with HTTP "
"``POST`` method to handle the storage. In our ``_routes.php`` file, we will "
"have:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:201
msgid ""
"You can observe that the two routes URLs are the same, but with HTTP methods"
" (an of course routes names!) that differs. For the needs of our plugin, "
"access will be restricted to administratore. We have already setted up the "
"middleware call in the previous example, we now need to add those new routes"
" to the ACLs configuration of ``_define.php``:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:212
msgid ""
"All treatments from ``preferences.php`` file has been moved, we can now "
"remove the file."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:215
msgid "templates/default/menu.tpl"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:217
msgid ""
"Since our plugin preferences page URL has changed, we need to adapt "
"``menu.tpl``:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:231
msgid "There are three changes here:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:233
msgid "PHP file call has been replaced with a call to the route,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:234
msgid ""
"selection class condition must be changed, this could no longer rely on file"
" name,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:235
msgid ""
"translation domain has been used for translatable strings, it is not "
"striclty mandatory if you use Galette core strings verbatim (which should "
"have been the case here)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:238
msgid "Web resources"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:240
msgid ""
"All resources that must be accessible from browsers must be handled "
"specifically. You have to move all of them in the ``webroot`` directory of "
"the plugin:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:250
msgid ""
"Then, you have to change paths to those files. As an example, see the "
"``header.tpl`` file, which looks like the following in 0.8:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:261
msgid "That will become in 0.9:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:274
msgid ""
"Directory names of resources does not matter, their paths are conditionned "
"by the plugin unique id (``$module_id``)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:277
msgid "Template files"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:279
msgid ""
":ref:`Smarty templates files must declare their heritage <smartyextends>`, "
"that was previousely done in PHP calls."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:281
msgid ""
"For all templates file in the plugin, you need at least to add ``{block "
"name=\"content\"}`` and ``{/block}`` around the whole content and add "
"heritage instruction. Javascript calls must be moved together into the "
"optionnal ``javascript`` block."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:283
msgid ""
"To follow our example, the ``preferences.tpl`` file of the plugin must be "
"changed as follows:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:296
msgid "The form action has also been changed to suit defined routes."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:299
msgid "Langs"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:301
msgid ""
"Locales in Galette now rely on translation domains. ``Makefile`` and "
"``xgettext.py`` must be updated, just copy them from an up to date official "
"plugin."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:303
msgid "``Makefile`` must be adapted to declare langs and used domains:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:310
msgid ""
"Existing files must be renamed to fit langs and domains, PHP files are no "
"longer used, you may remove them:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:322
msgid ""
"And finally, you will have to add the domain when needed in your code. It is"
" certainly possible to use a script to do it at once, but that was not "
"needed for this plugin."
msgstr ""
