# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2020, Johan Cwiklinski
# This file is distributed under the same license as the Galette package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Galette 0.9.4\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-05-28 12:07+0200\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../development/controllers.rst:5
# 683e6394251a474c8b29e846077067a7
msgid "Controllers"
msgstr ""

#: ../development/controllers.rst:9
# 79eff44c446540dc94fee856c7e56604
msgid "Controllers are - in a MVC model - in charge of make relation between an URL and Objects that does the job behind the scenes. Since Galette uses Slim Framework, we've used anonymous functions in routes; but that makes all that code not reusable; therefore there were plenty of code that was very similar in several places."
msgstr ""

#: ../development/controllers.rst:11
# c8434b2e5aee49bca21d9bc4ad01a705
msgid "This includes two steps removal mechanisms, outputs, and so on."
msgstr ""

#: ../development/controllers.rst:13
# 842bc05b21ed408884afdb54ba67774d
msgid "With new controllers, is is now possible to add specific methods that ease the development, and makes it less dependent on the framework. Check the `Slim documentation about container resolution <https://www.slimframework.com/docs/v3/objects/router.html#container-resolution>`_ to known more."
msgstr ""

#: ../development/controllers.rst:17
# 35f5c90b0bee47fb82fbd1dfc9167ec9
msgid "Of course, plugins can inherit of existing controllers and benefit of existing automations!"
msgstr ""

#: ../development/controllers.rst:20
# 2961cb6151174b27bcf556bf4673d273
msgid "Abstract controller"
msgstr ""

#: ../development/controllers.rst:22
# 44072618bf934a399fb3c69dfef0a7fb
msgid "Galette provides an ``AbstractController`` class all controllers must inherit. It declares in its constructor all properties from dependency injection used:"
msgstr ""

#: ../development/controllers.rst:24
# 37bb9a0ab23242d99c6a71e091e49a10
msgid "``$zdb`` database instance,"
msgstr ""

#: ../development/controllers.rst:25
# 360ed503d0bd4cb0b000cd074abfeb76
msgid "``$login`` current logged in user instance,"
msgstr ""

#: ../development/controllers.rst:26
# f90626ca55284d47a9eec7c509ec83a2
msgid "``$preferences`` Galette configuration instance,"
msgstr ""

#: ../development/controllers.rst:27
# 0fab04c5e2944d98b18f6e30837a9fba
msgid "``$view`` Smarty instance,"
msgstr ""

#: ../development/controllers.rst:28
#: ../development/controllers.rst:43
# cc252d102f804eacbf015a5295308221
# b456ba798b3b4d2f9b4b064301eb103e
msgid "..."
msgstr ""

#: ../development/controllers.rst:30
# 2a978f72d48e4aeca067eb9abaf2ea3d
msgid "All those properties are then accessible like ``$this->zdb`` inside controllers."
msgstr ""

#: ../development/controllers.rst:33
# bde0dcab0fc34b4b997d37023e3ab79d
msgid "CRUD controllers"
msgstr ""

#: ../development/controllers.rst:35
# 88b67079d2984f7a82faef96dcb8cc05
msgid "CRUD stands for Create, Read, Update, Delete. Galette provides a ``Galette\\Controllers\\CrudController`` abstract class all objects that suits CRUD should rely on. By extending this class, you must declare all abstract methods:"
msgstr ""

#: ../development/controllers.rst:37
# cb466758ff054986ae2cada994272261
msgid "``add`` for the add page,"
msgstr ""

#: ../development/controllers.rst:38
# 89a86f06a5f647b8afe960e5fa483dc6
msgid "``doAdd`` that will handle the add code,"
msgstr ""

#: ../development/controllers.rst:39
# 57a7f823d2e9424ea3bbf5c0d492412e
msgid "``list`` for a list,"
msgstr ""

#: ../development/controllers.rst:40
# ed3648cdfcfa49b58c2b858cda962dd0
msgid "``filter`` for list filtering,"
msgstr ""

#: ../development/controllers.rst:41
# c8f23471c8044b898be77a16819478c9
msgid "``edit`` for the edit page,"
msgstr ""

#: ../development/controllers.rst:42
# d8384324b419459e8aefe17b8eed68c8
msgid "``doEdit`` that will handle the edit code,"
msgstr ""

#: ../development/controllers.rst:45
# 1584aa27ed234cbba75b09e398442382
msgid "For most of the pages, ``add`` and ``edit`` as well as ``doAdd`` and ``doEdit`` may be very similar; then you can use another new method (say ``store``) that does the real job (that was not possible with anonymous functions previousely used):"
msgstr ""

#: ../development/controllers.rst:70
# 73981c1aab7343c39d48d84251526c98
msgid "Two steps removal (one for removal confirmation, and then real removal) is quite simple: most of the code is automatically handled from the ``CrudController``; you will have to define a few methods, to set the confirmation page title, the form and redirection URLs, and the removal itself; without taking care of what will be output. As an example, for payment types removal, this looks like the following:"
msgstr ""

#: ../development/controllers.rst:105
# dd6504f598fa4d69b07af2a82a66c542
msgid "As you can see, we remove only one payment type at once; but you can also handle batch removal, with a few adaptations from the example below, and redefinition of the ``getIdsToRemove`` method that rely per default on a ``id`` argument set in URL."
msgstr ""

#: ../development/controllers.rst:122
# 8a206397291b4862b5609eba2c58d335
msgid "PDF and CSV controllers"
msgstr ""

#: ../development/controllers.rst:124
# 888dfcac9ffa474fabd879c541d22068
msgid "The ``PdfController`` and ``CsvController`` in Galette centralize all PDF/CSV outputs, but the most interesting point is the ``sendResponse`` method that set correct headers and contents for those specific outputs."
msgstr ""

#: ../development/controllers.rst:126
# 8610992563be49b0a7e666e7aba19683
msgid "The ``PdfController::sendResponse`` method waits for a ``Slim\\Http\\Response`` and a ``Galette\\IO\\Pdf`` objects to work."
msgstr ""

#: ../development/controllers.rst:128
# 0315cc9f89e840e299f4a2b7c49fb528
msgid "The ``CsvController::sendResponse`` method waits for a ``Slim\\Http\\Response``, path to the file on disk, and file name for download."
msgstr ""

#: ../development/controllers.rst:131
# 4aebbe13edd74951a948ca3413bba74f
msgid "Usage in routes"
msgstr ""

#: ../development/controllers.rst:133
# 291a22f9593c4cdeaf2d45533657f14d
msgid "Instead of using anonymous function directly in routes, you will call controller's methods. For example , for members it would look like:"
msgstr ""

