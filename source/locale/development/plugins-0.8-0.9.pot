# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2011-2020, Johan Cwiklinski
# This file is distributed under the same license as the Galette package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Galette 0.9.3\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2020-02-15 09:41+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../development/plugins-0.8-0.9.rst:7
# b32f879a3d0e49eaadb047d2809f9840
msgid "Plugins migration 0.8 => 0.9"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:9
# bb63b743f9994105ab8aeaa42d6e48d5
msgid "Plugin system in Galette 0.9 is incompatible with previous versions. This does not means that you must rewrite your plugin completely, but you will have to do some adaptations."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:13
# a33d76cd191044cfbf1086ab36a221cb
msgid "Generalities"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:15
# 140bdf184186422bbd037954cd225127
msgid "Of course, you have to refer to the :ref:`plugins development guide <devplugins>` for all details."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:17
# 3dd8d2017f804de1b71f444193341989
msgid "Several Galette core objects has been modified to remove some globals. This is now mandatory to send them those informations, like:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:27
# 866b87c526694441ad8a6d75959b40a1
msgid "We've based our examples on the :doc:`ObjectsLend plugin <../plugins/objectslend>`, you can refer to the `related commit (`326b52f4`) <https://git.tuxfamily.org/galette/plugin-objectslend.git/commit/?h=develop&id=326b52f486c6dccd5896d9db13e3a074d3896b19>`_."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:30
# da840a3df22a434f9b1a262cd0bd55c4
msgid "_define.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:32
# ac38e7eb8b96450889d22930aa46228f
msgid "Two new parameters has been added:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:34
# 67c53801c4fb4689beaaf37525e786ee
msgid "a name, used for the routing and translation domains, a single string to add beetween Galette compatibility version and plugin date,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:35
# cf76d3b22d1748229f235e1840c09b6b
msgid "limited access URLs list (when ``$authenticate`` middleware is used) configuration, in an array at the end of the existing configuration."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:37
# dff2b67f975840e48bc59f582b7f8a31
msgid "A ``define.php`` file for Galette 0.8:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:52
# 3220f63e17504edeaa1ec28081363b2e
msgid "After being updated to Galette 0.9, the file will look like:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:71
# a12c5a574f0a42ccadd72763c70ca5b4
msgid "Routes ACLs are handled while plugin development."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:74
# 77052fbcd10941d3928bfa751beefc7d
msgid "_config.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:76
# 3632a14a57724e71891140dca5c6fa13
msgid "It was advised to create a variable to prefix display template, this is no longer needed."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:79
# 4540fe3063f84137864456bf14095089
msgid "_routes.php"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:81
# 1e64fd90b5394532b1bea1d9cbb427e9
msgid "This file is now the core of your plugin. All old PHP files that was directly called in URL in older versions will now be dispatched in several routes (one per PHP file, or not)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:83
# 3c1276f6dac241179b847ea1c81344bb
msgid "As an example, take the ``preferences.php`` page of our plugin. The source code for the 0.8 version was:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:130
# 22ebb11d9c334af7a16163f68520d4b4
msgid "This page was providing both display and storage of the preferences of the plugin. We will replace this behavior with two distinct routes: one with HTTP `GET` method that will handle display and another one with HTTP ``POST`` method to handle the storage. In our ``_routes.php`` file, we will have:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:201
# 99b32d50211b4425833e5f1eaf4e8ab0
msgid "You can observe that the two routes URLs are the same, but with HTTP methods (an of course routes names!) that differs. For the needs of our plugin, access will be restricted to administratore. We have already setted up the middleware call in the previous example, we now need to add those new routes to the ACLs configuration of ``_define.php``:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:212
# e064e854994a4998a1aa23038cca612d
msgid "All treatments from ``preferences.php`` file has been moved, we can now remove the file."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:215
# 1d7ed3756c094181b16dabda7b08d235
msgid "templates/default/menu.tpl"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:217
# ad2907ba4f1f45e89aa395f841dffa21
msgid "Since our plugin preferences page URL has changed, we need to adapt ``menu.tpl``:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:231
# 53c10e0c25854ecca1ec683652923e92
msgid "There are three changes here:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:233
# 1fe45b905c93478a952aeada15fc4fe6
msgid "PHP file call has been replaced with a call to the route,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:234
# 1282e25932a14508894ad234f2d55d1f
msgid "selection class condition must be changed, this could no longer rely on file name,"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:235
# 1fc81d157bc848ab9bf383e1948d35c6
msgid "translation domain has been used for translatable strings, it is not striclty mandatory if you use Galette core strings verbatim (which should have been the case here)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:238
# ac65c287a4184ac9b8d2fb16de5df1f8
msgid "Web resources"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:240
# ad50432307b143b1a1590f5d369b8a37
msgid "All resources that must be accessible from browsers must be handled specifically. You have to move all of them in the ``webroot`` directory of the plugin:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:250
# ded5aaf0898e46609f28dda58352b1c9
msgid "Then, you have to change paths to those files. As an example, see the ``header.tpl`` file, which looks like the following in 0.8:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:261
# 8e26ffc9c43a49c69919ef97be8f14f7
msgid "That will become in 0.9:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:274
# 64342356a97a4afe8f7a454cdb83816c
msgid "Directory names of resources does not matter, their paths are conditionned by the plugin unique id (``$module_id``)."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:277
# 4d25746d08de4468a1c31745e8d86966
msgid "Template files"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:279
# bf5d753a42d44f7f9a30c3ecd7fd0af3
msgid ":ref:`Smarty templates files must declare their heritage <smartyextends>`, that was previousely done in PHP calls."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:281
# 51c2a447abfb4c1585e750c4db9fb061
msgid "For all templates file in the plugin, you need at least to add ``{block name=\"content\"}`` and ``{/block}`` around the whole content and add heritage instruction. Javascript calls must be moved together into the optionnal ``javascript`` block."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:283
# 3ee741e1b5e74f8b87a82e2218ccec90
msgid "To follow our example, the ``preferences.tpl`` file of the plugin must be changed as follows:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:296
# 947c6a3a94344c36af18650ec717142c
msgid "The form action has also been changed to suit defined routes."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:299
# f44c27a45e224d06b7af14f0c36abd5b
msgid "Langs"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:301
# b96570e6baf74652a00f4e20469e3ed9
msgid "Locales in Galette now rely on translation domains. ``Makefile`` and ``xgettext.py`` must be updated, just copy them from an up to date official plugin."
msgstr ""

#: ../development/plugins-0.8-0.9.rst:303
# ff792b39a27a471cb9b23bb1c4fb98ee
msgid "``Makefile`` must be adapted to declare langs and used domains:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:310
# 9ae8f7d461ac4f3e870242df589ccf49
msgid "Existing files must be renamed to fit langs and domains, PHP files are no longer used, you may remove them:"
msgstr ""

#: ../development/plugins-0.8-0.9.rst:322
# 80e27f46ce2247309df65230e8aa5485
msgid "And finally, you will have to add the domain when needed in your code. It is certainly possible to use a script to do it at once, but that was not needed for this plugin."
msgstr ""

